<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>mod_cfml - Installation - Apache on Centos</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<header id="header">
									<a href="index.html" class="logo"><strong>mod_cfml</strong> by Vivio Technologies</a>
									<ul class="icons">
										<li><a href="https://github.com/viviotech" class="icon fa-github"><span class="label">GitHub</span></a></li>
										<li><a href="https://viviotech.net/" class="icon fa-home"><span class="label">Vivio Homepage</span></a></li>
										<li><a href="https://twitter.com/viviotech" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
										<li><a href="https://www.facebook.com/viviotech/" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
									</ul>
								</header>

							<!-- Content -->
								<section>
									<header class="main">
										<h1>Tomcat Valve on Linux</h1>
									</header>

									<h2>Install mod_cfml Tomcat Valve on Linux</h2>

									<p>For Tomcat 10, you need to use the v2 version which supports the Jakarta namespace</p>

									<p>The mod_cfml Tomcat Valve is the part of the mod_cfml suite that takes the information passed to it from the Web Server and automatically creates a Tomcat host or host alias with it. The following steps cover installing the mod_cfml Tomcat Valve on a Linux System.</p>
									<p>All steps provided are done from the command-line for uniformity. If you have a graphic desktop, you can perform these steps by opening a terminal window and running these commands.</p>
									<p>Also, for the sake of uniformity,<strong> this tutorial will use &quot;/opt/tomcat&quot; as our tomcat installation directory.</strong> Your Tomcat installation directory may be different depending on how you installed it. There are too many methods of installing to cover them all here.</p>
									<div class="box">
										<p><span class="icon fa-exclamation-triangle"></span> IMPORTANT: If you're running these commands on Ubuntu / Mint / Debian, you will need to pre-clude them with the &quot;sudo&quot; command. IE: sudo wget...</p>
									</div>

									<h3>Download mod_cfml Tomcat Valve</h3>

									<p>If you haven't already, go ahead and download the mod_cfml Tomcat Valve.:</p>

									<pre><code>wget https://github.com/viviotech/mod_cfml/blob/master/java/mod_cfml-valve_v1.1.05.jar?raw=true</code></pre>

									<div class="box">
										<p><span class="icon fa-exclamation-triangle"></span> IMPORTANT: The above URL points to version 1 of mod_cfml. mod_cfml may have been upgraded since this documentation was written. You may need to use an updated URL.</p>
									</div>

									<p>After you have download the Tomcat Valve, move it to your Tomcat's &quot;lib&quot; directory, which is usually [tomcat home]/lib/. In our example, we'll use /opt/tomcat/ just for the sake of simplicity.</p>

									<pre><code>mv mod_cfml-valve.jar /opt/tomcat/lib/</code></pre>

									<h3>Configure the mod_cfml Tomcat Valve</h3>

									<p>Now that the valve is installed into Tomcat, we need to configure Tomcat to use it. You do that by editing the Tomcat server.xml file and add the mod_cfml Tomcat Valve to the default Host entry. Unless you changed it, the default host entry will be the &quot;localhost&quot; entry. This is the line we will add to add the valve:</p>

									<pre><code>&lt;Valve
className="mod_cfml.core"
loggingEnabled="false"
maxContexts="100"
timeBetweenContexts="0"
scanClassPaths="false"
sharedKey="secret key also set in the Apache/IIS config" /&gt;</code></pre>
									
									<p>Here is what my Tomcat server.xml file looks like in the &quot;nano&quot; editor:</p>

									<img alt="Tomcat Valve " src="images/server-xml-ubuntu.png" style="width: 733px; height: 589px;" />

									<h3>Restart Tomcat</h3>

									<p>Now that the valve is installed, restart Tomcat so that the new Valve will go into effect.</p>
									<p>You should be all set!</p>

								</section>

						</div>
					</div>



				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">

							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="index.html">Homepage</a></li>
										<li><a href="download.html">Download</a></li>
										<li><span style="cursor: default; color: #7f888f">Documentation</span></li>
										<li><a href="introduction.html">- Introduction</a></li>
										<li><a href="docs-modcfml.html">- Apache mod_cfml.so</a></li>
										<li><a href="docs-valve.html">- Tomcat Valve</a></li>
										<li><span style="cursor: default; color: #7f888f">Installation</span></li>
										<li><a href="install-nginx.html">- NGINX (all OS's)</a></li>
										<li><a href="install-win-iis.html">- IIS on Windows</a></li>
										<li><a href="install-win-apache.html">- Apache on Windows</a></li>
										<li><a href="install-lin-centos.html">- Apache on CentOS</a></li>
										<li><a href="install-lin-ubuntu.html">- Apache on Ubuntu</a></li>
										<li><a href="install-valve-lin.html">- Tomcat Valve on Linux</a></li>
										<li><a href="install-valve-win.html">- Tomcat Valve on Windows</a></li>
										<li><a href="contributors.html">Contributors</a></li>
										<li><a href="support.html">Support</a></li>
									</ul>
								</nav>

							<!-- Footer -->
								<footer id="footer">
									<p class="copyright">&copy; <a href="https://viviotech.net/">Vivio Technologies Inc.</a> All rights reserved. Images: <a href="https://unsplash.com">Unsplash</a>. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
								</footer>

						</div>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>
